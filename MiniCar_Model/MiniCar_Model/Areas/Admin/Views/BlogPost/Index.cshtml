@model List<MiniCar_Model.Models.BlogPost>

@{
  ViewData["Title"] = "Quản lý bài viết";
}

<section id="main-content">
  <section class="wrapper">

    <h3>
      <i class="fa fa-angle-right"></i>
      Quản lý bài viết
    </h3>

    <div class="row mt">

      <!-- Nút thêm bài -->
      <div class="col-lg-12">
        <div class="pull-right mb">
          <a asp-area="Admin"
             asp-controller="BlogPost"
             asp-action="Create"
             class="btn btn-primary">
            <i class="fa fa-plus"></i> Thêm bài viết
          </a>
        </div>
      </div>

      <!-- Danh sách bài viết -->
      <div class="col-lg-12">
        <div class="row">

          @foreach (var item in Model)
          {
            <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 mb-4">

              <div class="card">

                <!-- Ảnh -->
                <img src="@(string.IsNullOrEmpty(item.Thumbnail)
                                        ? "/img/no-image.png"
                                        : item.Thumbnail)"
                     class="card-img-top"
                     alt="@item.Title" />

                <!-- Nội dung chính -->
                <div class="card-body text-center">

                  <h6 class="card-title">
                    @item.Title
                  </h6>

                  <p class="text-muted small mb-2">
                    @item.CreatedAt.ToString("dd/MM/yyyy")
                  </p>

                  <span class="label @(item.Status == "ACTIVE"
                                        ? "label-success"
                                        : "label-default")">
                    @item.Status
                  </span>

                </div>

                <!-- Footer (ẩn cũng không vỡ layout) -->
                <div class="card-footer text-center">
                  <a asp-area="Admin"
                     asp-controller="BlogPost"
                     asp-action="Edit"
                     asp-route-id="@item.Id"
                     class="btn btn-sm btn-primary">
                    Chỉnh sửa
                  </a>
                </div>

              </div>

            </div>
          }

        </div>
      </div>

    </div>

  </section>
</section>
