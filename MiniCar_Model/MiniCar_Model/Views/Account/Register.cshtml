@model MiniCar_Model.Models.ViewModels.RegisterVM
@{
	ViewData["Title"] = "Đăng Ký";
}

<a href="#" class="cd-top">Back To Top</a>

<section class="banner-area organic-breadcrumb">
	<div class="container">
		<div class="breadcrumb-banner d-flex flex-wrap align-items-center justify-content-end">
			<div class="col-first">
				<h1>Đăng kí</h1>
				<nav class="d-flex align-items-center">
					<a asp-controller="Home" asp-action="Index">Trang chủ<span class="lnr lnr-arrow-right"></span></a>
					<a asp-controller="Account" asp-action="Register">Đăng kí</a>
				</nav>
			</div>
		</div>
	</div>
</section>
<section class="login_box_area section_gap">
	<div class="container">
		<div class="row justify-content-around">
			<div class="col-lg-6">
				<div class="login_form_inner">
					<h2 class="pt-4">ĐĂNG KÍ</h2>

					<form asp-controller="Account" asp-action="Register" method="POST" class="row login_form pb-3 mb-5" id="form-1">
						<div asp-validation-summary="ModelOnly" class="text-danger col-md-12 mb-2"></div>

						<div class="col-md-12 form-group">
							<label asp-for="UserName" class="form-label float-left">Tên đăng nhập</label>
							<input asp-for="UserName" placeholder="Tên đăng nhập duy nhất" class="form-control">
							@if (ViewContext.HttpContext.Request.Method == "POST") {
								<span asp-validation-for="UserName" class="text-danger"></span>
							}

						</div>

						<div class="col-md-12 form-group">
							<label asp-for="NameAccount" class="form-label float-left">Họ và tên</label>
							<input asp-for="NameAccount" placeholder="VD: Nguyễn Văn Nam" class="form-control">

							@if (ViewContext.HttpContext.Request.Method == "POST") {
								<span asp-validation-for="NameAccount" class="text-danger"></span>
							}
						</div>

						<div class="col-md-12 form-group">
							<label asp-for="Email" class="form-label float-left">Email</label>
							<input asp-for="Email" placeholder="VD: email@domain.com" class="form-control">

							@if (ViewContext.HttpContext.Request.Method == "POST") {
								<span asp-validation-for="Email" class="text-danger"></span>
							}
						</div>

						<div class="col-md-12 form-group">
							<label asp-for="PhoneNumber" class="form-label float-left">Số điện thoại</label>
							<input asp-for="PhoneNumber" placeholder="VD: 0901234567" class="form-control">

							@if (ViewContext.HttpContext.Request.Method == "POST") {
								<span asp-validation-for="PhoneNumber" class="text-danger"></span>
							}
						</div>

						<div class="col-md-12 form-group">
							<label asp-for="AddressAccount" class="form-label float-left">Địa chỉ hiện tại</label>
							<input asp-for="AddressAccount" placeholder="Số nhà, tên đường, quận/huyện..." class="form-control">

							@if (ViewContext.HttpContext.Request.Method == "POST") {
								<span asp-validation-for="AddressAccount" class="text-danger"></span>
							}
						</div>


						<div class="col-md-12 form-group">
							<label asp-for="PasswordAccount" class="form-label float-left">Mật khẩu</label>
							<input asp-for="PasswordAccount" type="password" placeholder="Nhập mật khẩu" class="form-control">

							@if (ViewContext.HttpContext.Request.Method == "POST") {
								<span asp-validation-for="PasswordAccount" class="text-danger"></span>
							}
						</div>

						<div class="col-md-12 form-group">
							<label asp-for="ConfirmPassword" class="form-label float-left">Nhập lại mật khẩu</label>
							<input asp-for="ConfirmPassword" type="password" placeholder="Nhập lại mật khẩu" class="form-control">

							@if (ViewContext.HttpContext.Request.Method == "POST") {
								<span asp-validation-for="ConfirmPassword" class="text-danger"></span>
							}
						</div>

						<div class="col-md-12 form-group mt-3">
							<button type="submit" class="primary-btn w-100 border-0">Đăng ký</button>
							<a asp-controller="Account" asp-action="Login" class="mt-3 d-block">Đã có tài khoản? Đăng nhập ngay</a>
						</div>
					</form>

				</div>
			</div>
		</div>
	</div>

</section>


<script>
	document.addEventListener("DOMContentLoaded", function () {
		const inputs = document.querySelectorAll(".login_form input");

		inputs.forEach(input => {
			// Khi click vào input
			input.addEventListener("focus", hideValidationSpan);

			// Khi bắt đầu nhập
			input.addEventListener("input", hideValidationSpan);

			function hideValidationSpan() {
				// tìm span validation cùng form-group
				const formGroup = input.closest(".form-group");
				if (!formGroup) return;

				const span = formGroup.querySelector("span.text-danger");
				if (span) {
					span.style.display = "none";
				}
			}
		});
	});
</script>